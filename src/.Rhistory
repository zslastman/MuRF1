fread('sample_parameter.csv')
read_tsv('sample_parameter.csv')
library(tidyverse)
read_csv('sample_parameter.csv')
read_csv('read_files.csv')
read_csv('read_files.csv')%>%mutate(pair_id,str_replace(file,'_R[12]_','_'))
read_csv('read_files.csv')%>%mutate(pair_id=str_replace(file,'_R[12]_','_'))
read_csv('read_files.csv')%>%mutate(pair_id=rank(str_replace(file,'_R[12]_','_')))
read_csv('read_files.csv')%>%mutate(pair_id=order(str_replace(file,'_R[12]_','_')))
read_csv('read_files.csv')%>%mutate(pair_id=rank(str_replace(file,'_R[12]_','_')))
read_csv('read_files.csv')%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))
read_csv('read_files.csv')%>%group_by(sample_id)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))
read_csv('read_files.csv')%>%group_by(sample_id)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id)
)
read_csv('read_files.csv')%>%group_by(sample_id)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))
read_csv('read_files.csv')%>%group_by(sample_id)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%write_csv('read_files.csv')
savehistory()
mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%write_csv('read_files.csv')
list.files(rec=TRUE,patt='TS_SN_*fastq.gz','../input/')
list.files(rec=TRUE,patt='*fastq.gz','../input/')
list.files(rec=TRUE,patt='*TS_*fastq.gz','../input/')
list.files(rec=TRUE,patt='TS_*fastq.gz','../input/')
list.files(rec=TRUE,patt='TS_.*fastq.gz','../input/')
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('file')
library(tidyverse)
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('file')
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample=basename(dirname(file)))
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample=basename(dirname(dirname(file))))
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample=basename(dirname(dirname(dirname(file)))))
list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample=basename(dirname(dirname(dirname(file)))))
df = list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample=basename(dirname(dirname(dirname(file)))))
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%write_csv('read_files.csv')
df = list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample_id=basename(dirname(dirname(dirname(file)))))
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%write_csv('read_files.csv')
savehistory()
df = list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample_id=basename(dirname(dirname(dirname(file)))))
library(tidyverse)
df = list.files(rec=TRUE,patt='TS_.*fastq.gz$','../input/')%>%enframe('val','file')%>%mutate(sample_id=basename(dirname(dirname(dirname(file)))))
df
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%mutate(mate=str_extract('(?<=_R)[12](?=_)'))
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%mutate(mate=str_extract(file,'(?<=_R)[12](?=_)'))
df%>%select(-val)%>%mutate(pair_id=as.numeric(as.factor(rank(str_replace(file,'_R[12]_','_')))))%>%mutate(pair_id=paste0(sample_id,'_',pair_id))%>%mutate(mate=str_extract(file,'(?<=_R)[12](?=_)'))%>%write_csv('read_files.csv')
savehistory()
